include/primary-replica.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
[connection primary]
call mtr.add_suppression("Replica I/O: Primary command COM_REGISTER_REPLICA failed: .*");
call mtr.add_suppression("Replica I/O: .* failed with error: Lost connection to MySQL server at 'reading initial communication packet'");
call mtr.add_suppression("Fatal error: The replica I/O thread stops because primary and replica have equal MySQL server ids; .*");
call mtr.add_suppression("Replica I/O thread .* register on primary");
include/stop_replica.inc
SET @@global.debug= "+d,'debug_lock.before_get_UNIX_TIMESTAMP'";
include/start_replica.inc
replica is going to hang in get_primary_version_and_clock
include/rpl_stop_server.inc [server_number=1]
replica is unblocked
SET DEBUG_SYNC='now SIGNAL signal.get_unix_timestamp';
Check network error happened here
include/wait_for_replica_io_error.inc [errno=1040, 1053, 2002, 2003, 2006, 2013]
set @@global.debug = "-d,'debug_lock.before_get_UNIX_TIMESTAMP'";
include/rpl_start_server.inc [server_number=1]
include/wait_for_replica_param.inc [Replica_IO_Running]
include/stop_replica.inc
SET @@global.debug= "+d,'debug_lock.before_get_SERVER_ID'";
include/start_replica.inc
replica is going to hang in get_primary_version_and_clock
include/rpl_stop_server.inc [server_number=1]
replica is unblocked
SET DEBUG_SYNC='now SIGNAL signal.get_server_id';
Check network error happened here
include/wait_for_replica_io_error.inc [errno=1040, 1053, 2002, 2003, 2006, 2013]
set @@global.debug = "-d,'debug_lock.before_get_SERVER_ID'";
include/rpl_start_server.inc [server_number=1]
include/wait_for_replica_param.inc [Replica_IO_Running]
include/stop_replica.inc
SET @@global.debug= "+d,'dbug.before_get_PRIMARY_UUID'";
include/start_replica.inc
replica is going to hang in get_primary_version_and_clock
include/rpl_stop_server.inc [server_number=1]
replica is unblocked
SET DEBUG_SYNC='now SIGNAL signal.get_primary_uuid';
Check network error happened here
include/wait_for_replica_io_error.inc [errno=1040, 1053, 2002, 2003, 2006, 2013]
set @@global.debug = "-d,'dbug.before_get_PRIMARY_UUID'";
include/rpl_start_server.inc [server_number=1]
include/wait_for_replica_param.inc [Replica_IO_Running]
set global debug= '';
reset primary;
include/stop_replica.inc
change primary to primary_port=REPLICA_PORT;
start replica;
*** must be having the replicate-same-server-id IO thread error ***
include/wait_for_replica_io_error.inc [errno=1593]
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Last_IO_Error = 'Fatal error: The replica I/O thread stops because primary and replica have equal MySQL server ids; these ids must be different for replication to work (or the --replicate-same-server-id option must be used on replica but this does not always make sense; please check the manual before using it).'
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
SET DEBUG_SYNC= 'RESET';
include/stop_replica_sql.inc
RESET REPLICA;
include/rpl_end.inc
