include/primary-replica.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
[connection primary]
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Primary_User = 'root'
Primary_Host = '127.0.0.1'
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
include/stop_replica.inc
change primary to primary_user='test';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Primary_User = 'test'
Primary_Host = '127.0.0.1'
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
reset replica;
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Primary_User = 'test'
Primary_Host = '127.0.0.1'
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
change primary to primary_user='root';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
include/start_replica.inc
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Primary_User = 'root'
Primary_Host = '127.0.0.1'
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
include/stop_replica.inc
reset replica;
include/start_replica.inc
create temporary table t1 (a int);
include/stop_replica.inc
reset replica;
reset primary;
include/start_replica.inc
show status like 'replica_open_temp_tables';
Variable_name	Value
Replica_open_temp_tables	0
drop temporary table if exists t1;
include/stop_replica.inc
reset replica;
include/check_replica_no_error.inc
change primary to primary_user='impossible_user_name';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
start replica;
include/wait_for_replica_io_error.inc [errno=1045]
include/stop_replica_sql.inc
change primary to primary_user='root';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
include/start_replica.inc
include/check_replica_no_error.inc

Sync replica, else STOP REPLICA may complain about open temporary table.

[connection primary]
include/sync_replica_sql_with_primary.inc
include/stop_replica.inc
change primary to primary_user='impossible_user_name';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
start replica;
include/wait_for_replica_io_error.inc [errno=1045]
include/stop_replica_sql.inc
reset replica;
include/check_replica_no_error.inc
change primary to primary_user='root';
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
reset replica;

Sync replica, else STOP REPLICA may complain about open temporary table.

include/start_replica.inc
[connection primary]
include/sync_replica_sql_with_primary.inc
include/stop_replica.inc
reset replica all;
start replica;
ERROR HY000: The server is not configured as replica; fix in config file or with CHANGE PRIMARY TO
CHANGE PRIMARY TO PRIMARY_HOST= 'PRIMARY_HOST', PRIMARY_USER= 'PRIMARY_USER', PRIMARY_PORT= PRIMARY_PORT;
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
include/start_replica.inc
include/rpl_end.inc
