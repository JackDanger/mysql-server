include/primary-replica.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the primary info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START REPLICA; see the 'START REPLICA Syntax' in the MySQL Manual for more information.
[connection primary]
SET DEBUG_SYNC= 'RESET';
include/stop_replica.inc
set global debug= 'd,dbug.before_get_running_status_yes';
Replica_running, Replica_IO_Running, Replica_SQL_Running, must be OFF, NO, NO in three following queries
SHOW STATUS LIKE 'Replica_running';
Variable_name	Value
Replica_running	OFF
Replica_IO_Running= No
Replica_SQL_Running= No
start replica io_thread;
Replica_running, Replica_IO_Running, Replica_SQL_Running must be OFF Connecting NO in three following queries
SHOW STATUS LIKE 'Replica_running';
Variable_name	Value
Replica_running	OFF
Replica_IO_Running= Connecting
Replica_SQL_Running= No
SET DEBUG_SYNC='now SIGNAL signal.io_thread_let_running';
include/wait_for_replica_param.inc [Replica_IO_Running]
Replica_running, Replica_IO_Running, Replica_SQL_Running must be OFF YES NO in three following queries
SHOW STATUS LIKE 'Replica_running';
Variable_name	Value
Replica_running	OFF
Replica_IO_Running= Yes
Replica_SQL_Running= No
start replica sql_thread;
include/wait_for_replica_sql_to_start.inc
Replica_running, Replica_IO_Running, Replica_SQL_Running must be ON, YES, YES in three following queries
SHOW STATUS LIKE 'Replica_running';
Variable_name	Value
Replica_running	ON
Replica_IO_Running= Yes
Replica_SQL_Running= Yes
include/sync_replica_sql_with_primary.inc
set global debug= '';
SET DEBUG_SYNC= 'RESET';
End of tests
include/rpl_end.inc
